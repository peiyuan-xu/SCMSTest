#!/usr/bin/env python
# encoding: utf-8
"""
@author: zhuangxu
@email: zhuangxu0@gmail.com
@time: 2019/5/8 10:03
@desc:
"""

import matplotlib.pyplot as plt
from matplotlib.ticker import FuncFormatter


base_time = 1552645432413L
t_all = [
[1552645432413L, 51L, 206L, 104L, 361L],
[1552645432597L, 48L, 228L, 104L, 380L],
[1552645432605L, 145L, 330L, 104L, 579L],
[1552645433063L, 46L, 206L, 106L, 358L],
[1552645433553L, 46L, 204L, 106L, 356L],
[1552645433993L, 47L, 204L, 106L, 357L],
[1552645434000L, 145L, 306L, 106L, 557L],
[1552645434199L, 50L, 405L, 105L, 560L],
[1552645435063L, 46L, 204L, 104L, 354L],
[1552645435121L, 93L, 303L, 107L, 503L],
[1552645435128L, 190L, 403L, 104L, 697L],
[1552645435345L, 77L, 502L, 105L, 684L],
[1552645436096L, 46L, 207L, 105L, 358L],
[1552645436163L, 82L, 309L, 104L, 495L],
[1552645436168L, 181L, 408L, 105L, 694L],
[1552645436552L, 46L, 363L, 105L, 514L],
[1552645437131L, 46L, 204L, 105L, 355L],
[1552645437191L, 89L, 305L, 105L, 499L],
[1552645437198L, 185L, 408L, 104L, 697L],
[1552645437879L, 48L, 205L, 107L, 360L],
[1552645438294L, 46L, 206L, 104L, 356L],
[1552645438301L, 145L, 303L, 104L, 552L],
[1552645438306L, 243L, 404L, 103L, 750L],
[1552645439028L, 45L, 204L, 105L, 354L],
[1552645439331L, 47L, 208L, 106L, 361L],
[1552645439338L, 143L, 310L, 104L, 557L],
[1552645439344L, 243L, 407L, 103L, 753L],
[1552645440393L, 47L, 203L, 105L, 355L],
[1552645440400L, 142L, 307L, 104L, 553L],
[1552645440406L, 239L, 407L, 105L, 751L],
[1552645440412L, 336L, 507L, 105L, 948L],
[1552645441118L, 47L, 293L, 106L, 446L],
[1552645441786L, 48L, 205L, 104L, 357L],
[1552645441793L, 145L, 304L, 104L, 553L],
[1552645441798L, 244L, 403L, 104L, 751L],
[1552645443614L, 47L, 205L, 104L, 356L],
[1552645443623L, 141L, 305L, 104L, 550L],
[1552645443629L, 238L, 405L, 103L, 746L],
[1552645443634L, 337L, 503L, 104L, 944L],
[1552645444164L, 47L, 466L, 107L, 620L],
[1552645444170L, 144L, 567L, 104L, 815L],
[1552645444175L, 246L, 663L, 107L, 1016L],
[1552645444194L, 329L, 765L, 104L, 1198L],
[1552645444692L, 46L, 753L, 104L, 903L],
[1552645444700L, 142L, 856L, 104L, 1102L],
[1552645444741L, 204L, 956L, 104L, 1264L],
[1552645444763L, 284L, 1057L, 105L, 1446L],
[1552645445230L, 47L, 1030L, 105L, 1182L],
[1552645445294L, 86L, 1132L, 108L, 1326L],
[1552645445299L, 186L, 1230L, 104L, 1520L],
[1552645445370L, 218L, 1332L, 107L, 1657L],
[1552645445779L, 46L, 1298L, 104L, 1448L],
[1552645445907L, 51L, 1370L, 105L, 1526L],
[1552645446059L, 46L, 1428L, 104L, 1578L],
[1552645446493L, 47L, 1198L, 106L, 1351L],
[1552645447282L, 48L, 611L, 104L, 763L],
[1552645447289L, 147L, 708L, 104L, 959L],
[1552645447294L, 245L, 808L, 108L, 1161L],
[1552645447488L, 155L, 907L, 104L, 1166L],
[1552645448188L, 46L, 519L, 108L, 673L],
[1552645448206L, 131L, 619L, 105L, 855L],
[1552645448210L, 230L, 721L, 104L, 1055L],
[1552645448215L, 328L, 820L, 104L, 1252L],
[1552645449144L, 47L, 375L, 105L, 527L],
[1552645449150L, 145L, 473L, 106L, 724L],
[1552645449157L, 243L, 571L, 103L, 917L],
[1552645449164L, 339L, 671L, 105L, 1115L],
[1552645449812L, 46L, 519L, 104L, 669L],
[1552645449817L, 144L, 619L, 104L, 867L],
[1552645449822L, 249L, 712L, 104L, 1065L],
[1552645449826L, 348L, 812L, 107L, 1267L],
[1552645450684L, 46L, 466L, 105L, 617L],
[1552645450690L, 144L, 567L, 110L, 821L],
[1552645450696L, 240L, 669L, 106L, 1015L],
[1552645450702L, 337L, 772L, 104L, 1213L],
[1552645451218L, 46L, 750L, 103L, 899L],
[1552645451225L, 143L, 848L, 105L, 1096L],
[1552645451231L, 243L, 945L, 104L, 1292L],
[1552645451237L, 340L, 1045L, 103L, 1488L],
[1552645451471L, 209L, 1145L, 110L, 1464L],
[1552645451481L, 302L, 1250L, 104L, 1656L],
[1552645451487L, 402L, 1347L, 103L, 1852L],
[1552645451493L, 499L, 1446L, 104L, 2049L],
[1552645451690L, 405L, 1546L, 106L, 2057L],
[1552645451771L, 429L, 1651L, 105L, 2185L],
[1552645451778L, 524L, 1754L, 105L, 2383L],
[1552645451785L, 620L, 1854L, 104L, 2578L],
[1552645451990L, 518L, 1955L, 105L, 2578L],
[1552645452045L, 566L, 2055L, 109L, 2730L],
[1552645452052L, 663L, 2154L, 109L, 2926L],
[1552645452074L, 744L, 2256L, 107L, 3107L],
[1552645452254L, 669L, 2355L, 104L, 3128L],
[1552645452273L, 753L, 2455L, 109L, 3317L],
[1552645452280L, 849L, 2557L, 104L, 3510L],
[1552645452372L, 860L, 2659L, 103L, 3622L],
[1552645452554L, 780L, 2763L, 109L, 3652L],
[1552645452579L, 858L, 2864L, 104L, 3826L],
[1552645452590L, 951L, 2963L, 104L, 4018L],
[1552645452641L, 1004L, 3063L, 104L, 4171L],
[1552645452830L, 919L, 3162L, 103L, 4184L],
[1552645452835L, 1016L, 3262L, 104L, 4382L],
[1552645452890L, 1065L, 3361L, 104L, 4530L],
[1552645452999L, 1060L, 3460L, 104L, 4624L],
[1552645453155L, 1007L, 3560L, 104L, 4671L],
[1552645453167L, 1099L, 3659L, 104L, 4862L],
[1552645453226L, 1143L, 3759L, 105L, 5007L],
[1552645453240L, 1232L, 3861L, 104L, 5197L],
[1552645453398L, 1177L, 3961L, 105L, 5243L],
[1552645453404L, 1274L, 4061L, 112L, 5447L],
[1552645453467L, 1315L, 4162L, 105L, 5582L],
[1552645453499L, 1387L, 4260L, 104L, 5751L],
[1552645453754L, 1236L, 4359L, 107L, 5702L],
[1552645453759L, 1334L, 4460L, 106L, 5900L],
[1552645453764L, 1436L, 4560L, 104L, 6100L],
[1552645453780L, 1531L, 4656L, 106L, 6293L],
[1552645454002L, 1413L, 4755L, 105L, 6273L],
[1552645454007L, 1514L, 4853L, 105L, 6472L],
[1552645454012L, 1611L, 4955L, 105L, 6671L],
[1552645454017L, 1709L, 5056L, 106L, 6871L],
[1552645454587L, 1244L, 5155L, 105L, 6504L],
[1552645454593L, 1341L, 5257L, 107L, 6705L],
[1552645454624L, 1414L, 5358L, 105L, 6877L],
[1552645454630L, 1512L, 5457L, 105L, 7074L],
[1552645454841L, 1405L, 5558L, 103L, 7066L],
[1552645454846L, 1502L, 5659L, 104L, 7265L],
[1552645454860L, 1592L, 5758L, 104L, 7454L],
[1552645454865L, 1690L, 5858L, 104L, 7652L],
[1552645455450L, 1210L, 5957L, 104L, 7271L],
[1552645455458L, 1304L, 6058L, 106L, 7468L],
[1552645455472L, 1394L, 6158L, 104L, 7656L],
[1552645455544L, 1425L, 6259L, 104L, 7788L],
[1552645457036L, 49L, 6347L, 105L, 6501L],
[1552645457043L, 145L, 6448L, 103L, 6696L],
[1552645457082L, 211L, 6547L, 104L, 6862L],
[1552645457906L, 49L, 6090L, 104L, 6243L],
[1552645458865L, 45L, 5338L, 109L, 5492L],
[1552645458871L, 142L, 5439L, 105L, 5686L],
[1552645458887L, 230L, 5538L, 106L, 5874L],
[1552645458930L, 291L, 5640L, 104L, 6035L],
[1552645459293L, 45L, 5727L, 106L, 5878L],
[1552645459416L, 50L, 5804L, 107L, 5961L],
[1552645459432L, 136L, 5910L, 105L, 6151L],
[1552645459438L, 234L, 6010L, 104L, 6348L],
[1552645459672L, 103L, 6110L, 105L, 6318L],
[1552645459678L, 199L, 6211L, 106L, 6516L],
[1552645459683L, 296L, 6313L, 103L, 6712L],
[1552645459688L, 394L, 6415L, 104L, 6913L],
[1552645460033L, 152L, 6517L, 104L, 6773L],
[1552645460039L, 250L, 6615L, 104L, 6969L],
[1552645460055L, 337L, 6715L, 105L, 7157L],
[1552645460063L, 435L, 6814L, 107L, 7356L],
[1552645460351L, 251L, 6913L, 104L, 7268L],
[1552645460375L, 329L, 7014L, 105L, 7448L],
[1552645460469L, 340L, 7114L, 107L, 7561L],
[1552645460476L, 437L, 7217L, 104L, 7758L],
[1552645460774L, 245L, 7314L, 104L, 7663L],
[1552645460903L, 218L, 7415L, 104L, 7737L],
[1552645461593L, 46L, 7099L, 105L, 7250L],
[1552645461673L, 72L, 7198L, 104L, 7374L],
[1552645462276L, 46L, 6824L, 110L, 6980L],
[1552645462466L, 46L, 6836L, 104L, 6986L],
[1552645463008L, 46L, 6498L, 105L, 6649L],
[1552645463239L, 48L, 6468L, 104L, 6620L],
[1552645463559L, 47L, 6352L, 105L, 6504L],
[1552645463629L, 79L, 6454L, 104L, 6637L],
[1552645464748L, 47L, 5570L, 104L, 5721L],
[1552645465018L, 47L, 5503L, 104L, 5654L],
[1552645465156L, 51L, 5564L, 103L, 5718L],
[1552645465176L, 134L, 5663L, 106L, 5903L],
[1552645466285L, 48L, 4842L, 104L, 4994L],
[1552645466292L, 144L, 4943L, 106L, 5193L],
[1552645466356L, 184L, 5044L, 104L, 5332L],
[1552645466362L, 283L, 5141L, 104L, 5528L],
[1552645467570L, 46L, 4373L, 104L, 4523L],
[1552645467577L, 142L, 4473L, 104L, 4719L],
[1552645467583L, 238L, 4574L, 106L, 4918L],
[1552645467592L, 333L, 4673L, 108L, 5114L],
[1552645468799L, 45L, 3959L, 109L, 4113L],
[1552645468804L, 142L, 4062L, 104L, 4308L],
[1552645468810L, 238L, 4163L, 106L, 4507L],
[1552645468815L, 335L, 4264L, 106L, 4705L],
[1552645470403L, 46L, 3169L, 103L, 3318L],
[1552645470457L, 100L, 3266L, 105L, 3471L],
[1552645470467L, 192L, 3367L, 104L, 3663L],
[1552645470472L, 293L, 3464L, 105L, 3862L],
[1552645473387L, 46L, 1000L, 106L, 1152L]
]

# service response time
figure, ax = plt.subplots()

#ms
plt.plot([(t[0] - base_time)/1000 for t in t_all], [t[1] for t in t_all], linestyle='--', marker='o', label='Books')
plt.plot([(t[0] - base_time)/1000 for t in t_all], [t[2] for t in t_all], linestyle='--', marker='>', label='Reviews')
plt.plot([(t[0] - base_time)/1000 for t in t_all], [t[3] for t in t_all], linestyle='--', marker='*', label='Score')
plt.plot([(t[0] - base_time)/1000 for t in t_all], [t[4] for t in t_all], label='Chain1')

# 设置横纵坐标的名称以及对应字体格式
font1 = {'family': 'Times New Roman',
         'weight': 'normal',
         'size': 21,
         }
font2 = {'family': 'Times New Roman',
         'weight': 'normal',
         'size': 18,
         }

plt.xlabel("Time(s)", font1)
plt.ylabel("Response Time(ms)", font1)

plt.tick_params(labelsize=18)
plt.xticks(range(0, 41, 10))
plt.yticks(range(0, 8000, 2000))
plt.legend(prop=font2)
plt.tight_layout()
plt.savefig("../fig/fig_2_response")

